<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="NewsRss">

    <insert id="insertNewsRss" parameterType="com.study.news.domain.NewsRssVo">
        /* insertNewsRss - 뉴스 RSS 등록 */
    
        INSERT INTO tbl_news_rss ( comp_cd
                                 , cl_cd
                                 , rss_url
                                 , use_yn
                                 , reg_dt
                                 , reg_user_id
                                 , upd_dt
                                 , upd_user_id
                                 )
        VALUES ( #{compCd}     /* 언론사 코드 - G1 */  
               , #{clCd}       /* 뉴스 분야 코드 - G2 */
               , #{rssUrl}     /* RSS URL */
               , #{useYn}      /* 사용여부 YN */
               , NOW()         /* 등록일시 */
               , #{regUserId}  /* 등록 사용자 아이디 */
               , NOW()         /* 수정일시 */
               , #{updUserId}  /* 수정 사용자 아이디 */
               );
    </insert>
    
    <!-- 뉴스 RSS 목록 조회 -->
    <select id="selectNewsRssList" resultType="com.study.news.domain.NewsRssVo">
        /* selectNewsRssList - 뉴스 RSS 목록 조회 */
        
		select rss_seq
             , url
             , use_yn
		  from tbl_news_rss a
		      inner join (
			      select rss_seq 
			        from tbl_news_rss 
			      /* limit #start#, #pageCount# */
			      limit 0, 100) b
		using(rss_id)
    </select>

</mapper>